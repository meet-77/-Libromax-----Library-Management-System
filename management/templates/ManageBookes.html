{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Library Management System - Manage Books</title>
  <script src="https://cdn.tailwindcss.com"></script>
  {% comment %} <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script> {% endcomment %}
      <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
    />
</head>
<body class="bg-gray-50 flex min-h-screen">

  <!-- Sidebar -->
  <aside class="w-64 bg-[#0f3558] text-white min-h-screen">
<div class="flex items-center space-x-3 p-4 bg-white rounded-lg shadow-md m-3 ">
  <!-- Book Icon -->
  <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 20l9-5-9-5-9 5 9 5z" />
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 12l9-5-9-5-9 5 9 5z" />
  </svg>

  <!-- Text -->
  <span class="text-2xl font-bold text-blue-900">LibroMax</span>
</div>

   <nav class="mt-6 space-y-2">
      <a href="{% url "dashboard" %}" class="flex items-center px-6 py-2 bg-blue-800 rounded-md">
        <span class="mr-2">üìä</span> Dashboard
      </a>
      <a href="{% url 'manage_books' %}" class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md">
        <span class="mr-2">üìö</span> Manage Books
      </a>
      <a href="{% url "manage_user" %}" class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md">
        <span class="mr-2">üë•</span> Manage Members
      </a>
      <a href="{% url "manage_authors" %}" class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md">
        <span class="mr-2">‚úçÔ∏è</span> Manage Authors
      </a>
      <a href="{% url "manage_borrowed" %}" class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md">
        <span class="mr-2">üè∑Ô∏è</span> Manage borrowed
      </a>
     
    </nav>
  </aside>

  <!-- Main Section -->
  <main class="flex-1 p-8">
    <!-- Header -->
    <div class="flex justify-between items-center mb-8">
      <div>
        <h1 class="text-2xl font-semibold">Manage Books</h1>
        <p class="text-gray-500">All books in the library</p>
      </div>
      <div class="flex items-center space-x-6">
        <div class="flex items-center space-x-3">
          <img src="https://via.placeholder.com/40" alt="Admin" class="rounded-full">
          {% comment %} <div>
            <p class="font-semibold">Admin</p>
            <p class="text-sm text-gray-500">Administrator</p>
          </div> {% endcomment %}
        </div>
      </div>
    </div>

    <!-- Books Table -->
    <div class="max-w-6xl mx-auto bg-white p-8 rounded-xl shadow-md">
      <h2 class="text-2xl font-semibold mb-6">All Books</h2>

  <table class="w-full border border-gray-200">
    <thead class="bg-gray-100">
      <tr>
        <th class="px-6 py-3 text-left">Book Name</th>
        <th class="px-6 py-3 text-left">Summary</th>
        <th class="px-6 py-3 text-left">Price (‚Çπ)</th>
        <th class="px-6 py-3 text-left">Author Name</th> <!-- New Column -->
        <th class="px-6 py-3 text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for book in books %}
      <tr class="hover:bg-gray-50">
        <td class="px-6 py-4">{{ book.Book_name }}</td>
        <td class="px-6 py-4">{{ book.Book_summary|truncatechars:80 }}</td>
        <td class="px-6 py-4">{{ book.Book_price }}</td>
        <td class="px-6 py-4">{{ book.author.Author_name|default:"No Author" }}</td> <!-- Author Name -->
        <td class="px-6 py-4 text-center flex gap-4">
          <a href="{% url 'edit_book' book.id %}" class="btn btn-danger">
            Update
          </a>
          <a href="{% url 'delete_book' book.id %}" class="btn btn-warning">
            Delete
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="text-center py-6 text-gray-500">No books available</td>
      </tr>
      {% endfor %}
    </tbody>
</table>

    </div>
  </main>
</body>
</html>
